<!DOCTYPE html>
<!--
This file is part of Cockpit Machines Dashboard.

Copyright (C) 2026

Cockpit is free software; you can redistribute it and/or modify it
under the terms of the GNU Lesser General Public License as published by
the Free Software Foundation; either version 2.1 of the License, or
(at your option) any later version.

Cockpit is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License
along with Cockpit; If not, see <https://www.gnu.org/licenses/>.
-->
<html>

<head>
    <title translatable="yes">Machines Dashboard</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="dashboard.css" />
</head>

<body class="pf-v6-m-tabular-nums">
    <div id="app"></div>
    <script src="../base1/cockpit.js"></script>
    <script>
        // Apply dark theme based on Cockpit preferences
        (function() {
            const style = window.localStorage.getItem('shell:style') || 'auto';
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            if (style === 'dark' || (style === 'auto' && prefersDark)) {
                document.documentElement.classList.add('pf-v6-theme-dark');
            }
            
            // Listen for theme changes
            window.addEventListener('storage', function(e) {
                if (e.key === 'shell:style') {
                    const newStyle = e.newValue || 'auto';
                    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                    
                    if (newStyle === 'dark' || (newStyle === 'auto' && prefersDark)) {
                        document.documentElement.classList.add('pf-v6-theme-dark');
                    } else {
                        document.documentElement.classList.remove('pf-v6-theme-dark');
                    }
                }
            });
        })();
    </script>
    <script src="dashboard.js"></script>
</body>

</html>
